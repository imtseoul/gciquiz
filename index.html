<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>하나님이 빚으시는 리더십 - 퀴즈</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 16px;
            opacity: 0.9;
        }

        .tabs {
            display: flex;
            background: #f5f5f5;
            border-bottom: 2px solid #e0e0e0;
        }

        .tab {
            flex: 1;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            font-size: 18px;
            font-weight: 600;
            transition: all 0.3s;
            background: #f5f5f5;
            color: #666;
        }

        .tab.active {
            background: white;
            color: #667eea;
            border-bottom: 3px solid #667eea;
        }

        .tab:hover:not(.active) {
            background: #ebebeb;
        }

        .quiz-content {
            padding: 40px;
            min-height: 400px;
        }

        .quiz-screen {
            display: none;
        }

        .quiz-screen.active {
            display: block;
        }

        .question-card {
            background: #f9f9f9;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .question-number {
            color: #667eea;
            font-weight: 600;
            font-size: 14px;
            margin-bottom: 15px;
        }

        .question-text {
            font-size: 20px;
            font-weight: 600;
            line-height: 1.6;
            margin-bottom: 25px;
            color: #2c3e50;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            padding: 18px 20px;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 16px;
            display: flex;
            align-items: center;
        }

        .option:hover {
            border-color: #667eea;
            background: #f0f4ff;
            transform: translateX(5px);
        }

        .option.selected {
            border-color: #667eea;
            background: #e8eeff;
            font-weight: 600;
        }

        .option-label {
            display: inline-block;
            width: 30px;
            height: 30px;
            background: #667eea;
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 30px;
            margin-right: 15px;
            font-weight: 600;
            flex-shrink: 0;
        }

        .option.selected .option-label {
            background: #764ba2;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
        }

        .btn {
            padding: 14px 30px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .btn-secondary {
            background: #e0e0e0;
            color: #666;
        }

        .btn-secondary:hover:not(:disabled) {
            background: #d0d0d0;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s;
        }

        .results {
            text-align: center;
        }

        .score-display {
            font-size: 72px;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 30px 0;
        }

        .score-message {
            font-size: 24px;
            color: #2c3e50;
            margin-bottom: 40px;
        }

        .review-section {
            text-align: left;
            margin-top: 40px;
        }

        .review-title {
            font-size: 22px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #667eea;
        }

        .review-item {
            background: #f9f9f9;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 4px solid #e74c3c;
        }

        .review-item.correct {
            border-left-color: #27ae60;
        }

        .review-question {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .review-answer {
            margin: 8px 0;
            padding-left: 20px;
        }

        .review-answer.wrong {
            color: #e74c3c;
        }

        .review-answer.correct {
            color: #27ae60;
        }

        .review-explanation {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
            font-size: 14px;
            color: #555;
            line-height: 1.6;
        }

        @media (max-width: 600px) {
            .container {
                border-radius: 0;
            }

            .header h1 {
                font-size: 22px;
            }

            .quiz-content {
                padding: 20px;
            }

            .question-text {
                font-size: 18px;
            }

            .score-display {
                font-size: 56px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>하나님이 빚으시는 리더십</h1>
            <p>7강 & 8강 이해도 점검 퀴즈</p>
        </div>

        <div class="tabs">
            <div class="tab active" data-tab="lecture7">7강: 궁극적 공헌</div>
            <div class="tab" data-tab="lecture8">8강: 총정리</div>
        </div>

        <div class="quiz-content">
            <div class="quiz-screen active" id="lecture7-quiz">
                <div class="progress-bar">
                    <div class="progress-fill" id="progress7"></div>
                </div>
                <div id="question-container-7"></div>
                <div class="navigation">
                    <button class="btn btn-secondary" id="prev7" style="visibility: hidden;">이전</button>
                    <button class="btn btn-primary" id="next7" disabled>다음</button>
                </div>
            </div>

            <div class="quiz-screen" id="lecture8-quiz">
                <div class="progress-bar">
                    <div class="progress-fill" id="progress8"></div>
                </div>
                <div id="question-container-8"></div>
                <div class="navigation">
                    <button class="btn btn-secondary" id="prev8" style="visibility: hidden;">이전</button>
                    <button class="btn btn-primary" id="next8" disabled>다음</button>
                </div>
            </div>

            <div class="quiz-screen" id="results7"></div>
            <div class="quiz-screen" id="results8"></div>
        </div>
    </div>

    <script>
        const quizData = {
            lecture7: [
                {
                    question: "끝까지 잘 마치는 지도자들이 공통적으로 보여주는 여섯 가지 삶의 요소가 아닌 것은?",
                    options: [
                        "배움의 자세",
                        "영적 권위",
                        "재정 관리 능력",
                        "리더십 철학"
                    ],
                    correct: 2,
                    explanation: "강의에서 제시한 여섯 가지 요소는 배움의 자세, 영적 권위, 평생의 관점, 부상하는 지도자 발굴, 능력 부여, 리더십 철학입니다. 재정 관리는 포함되지 않습니다."
                },
                {
                    question: "강의에서 영적 권위에 대해 강조한 핵심 내용은 무엇인가?",
                    options: [
                        "권위는 직책과 함께 자동으로 주어진다",
                        "권위는 쟁취하는 것이 아니라 추종자들로부터 부여받는 것이다",
                        "권위는 나이와 경력에 비례한다",
                        "권위는 학벌과 자격증으로 증명된다"
                    ],
                    correct: 1,
                    explanation: "강의는 '권위는 쟁취하는 것이 아니라 부여받는 것'이며, '내가 가졌다고 주장할 수 있는 것이 아니다. 추종자들로부터 부여받는 것이 영적 권위'라고 명확히 했습니다."
                },
                {
                    question: "지도자 개발의 정의에서 강조하는 '평생의 관점'이 중요한 이유는?",
                    options: [
                        "장기적인 재정 계획을 세우기 위해",
                        "오늘의 삶을 오늘의 관점으로만 바라보면 실패하기 쉽기 때문",
                        "은퇴 준비를 위해",
                        "후임자를 미리 선정하기 위해"
                    ],
                    correct: 1,
                    explanation: "강의에서 '오늘의 삶의 의미를 오늘의 관점으로서만 바라보려고 할 때 실패한다'고 했으며, '평생의 관점에서 볼 수 있을 때 끝까지 잘 마치는 지도자가 될 확률이 높아진다'고 강조했습니다."
                },
                {
                    question: "강의에서 '리더십은 언제 시작되는가?'에 대한 답으로 제시한 것은?",
                    options: [
                        "공식적인 직책을 부여받을 때",
                        "지도자 자신보다 다른 사람의 성장과 번영에 더 많은 관심을 가질 때",
                        "리더십 훈련 과정을 이수했을 때",
                        "일정 수준의 성과를 달성했을 때"
                    ],
                    correct: 1,
                    explanation: "강의는 '리더십은 지도자 자신보다 다른 사람의 성장과 번영에 더 많은 관심을 가질 때 시작된다'고 명확히 정의했습니다. 이는 섬김의 리더십 핵심입니다."
                },
                {
                    question: "초점 있는 지도자들이 '부상하는 지도자 발굴과 개발'을 어떻게 여기는가?",
                    options: [
                        "시간이 날 때 하면 좋은 활동",
                        "우선 책임(priority responsibility)",
                        "조직이 성장한 후에 할 일",
                        "선택적 과제"
                    ],
                    correct: 1,
                    explanation: "강의는 '초점 있는 지도자들은 부상하는 지도자들을 발굴하고 개발하는 것을 우선 책임으로 여긴다'고 강조했습니다. 이는 선택이 아닌 필수 책임입니다."
                },
                {
                    question: "'능력 부여(Empowerment)'에 대한 올바른 설명은?",
                    options: [
                        "권한을 위임하고 간섭하지 않는 것",
                        "관계 속에서 하나님이 허락하신 자원과 능력을 나누는 헌신",
                        "업무를 분담하여 효율성을 높이는 것",
                        "재정적 지원을 제공하는 것"
                    ],
                    correct: 1,
                    explanation: "강의는 능력 부여를 '관계 속에서 다른 사람에게 의미 있는 도움을 주고 나에게 하나님께서 허락하신 자원들을 나누며 부여되었던 능력을 그들에게도 나눠 주는 헌신'으로 정의했습니다."
                },
                {
                    question: "지도력 철학(Leadership Philosophy)이 형성되는 과정에서 강조된 것은?",
                    options: [
                        "체계적인 학문적 연구를 통해 완성된다",
                        "경험을 통해 발견하고, 평가하고, 수정하며 평생에 걸쳐 형성된다",
                        "멘토로부터 그대로 전수받는다",
                        "초기에 확립하면 변하지 않는다"
                    ],
                    correct: 1,
                    explanation: "강의는 지도력 철학이 '경험 가운데 함축된 철학을 발견하고, 이에 비추어 학습한 철학을 평가하거나 수정하며, 체계화하고 명료화하는 평생의 과정'을 통해 형성된다고 설명했습니다."
                },
                {
                    question: "자신의 지도력 철학을 '글로 남기는 것'이 중요한 이유는?",
                    options: [
                        "학술적 업적으로 인정받기 위해",
                        "다음 세대에게 남길 수 있는 궁극적 공헌이 되기 때문",
                        "승진과 평가에 유리하기 때문",
                        "개인 회고록 작성을 위해"
                    ],
                    correct: 1,
                    explanation: "강의는 '글로 남겨진 리더십 철학은 우리가 남기고 갈 수 있는 하나의 궁극적인 공헌이 될 수 있다'고 강조하며, 나만이 아닌 다음 세대를 위한 유산의 중요성을 설명했습니다."
                },
                {
                    question: "궁극적 공헌의 네 가지 범주에 모두 포함되는 것은?",
                    options: [
                        "성품, 조직, 재정, 지위",
                        "성품, 촉매 역할, 조직, 개념",
                        "학력, 경력, 업적, 명성",
                        "권력, 부, 명예, 지위"
                    ],
                    correct: 1,
                    explanation: "강의에서 제시한 궁극적 공헌의 네 가지 범주는 '성품(모범적 삶), 촉매 역할(변화를 일으키는 활동), 조직(새로운 조직 창설), 개념(새로운 통찰)'입니다."
                },
                {
                    question: "강의 마지막에 제시된 과제의 의도는 무엇인가?",
                    options: [
                        "장례 준비를 미리 하기 위해",
                        "끝을 마음에 두고 시작하는 평생의 관점을 실천하기 위해",
                        "자신의 업적을 정리하기 위해",
                        "유언장 작성을 위한 준비"
                    ],
                    correct: 1,
                    explanation: "40여 자 이내의 묘비명 작성 과제는 강의 핵심 메시지인 '끝을 마음에 두고 시작하기'와 '평생의 관점에서 오늘을 바라보기'를 실천하도록 돕는 의미있는 성찰 도구입니다."
                }
            ],
            lecture8: [
                {
                    question: "강의 전체를 관통하는 '리더십 개발'의 정의는?",
                    options: [
                        "체계적인 교육 프로그램을 통한 기술 습득",
                        "평생에 걸친 하나님의 다루심과 그에 대한 우리 반응이 어우러진 형성",
                        "승진과 경력 개발을 통한 성장",
                        "리더십 이론의 학습과 적용"
                    ],
                    correct: 1,
                    explanation: "강의는 일관되게 '리더십 개발이란 평생에 걸쳐 이어지는 하나님의 다루심과 그에 대한 우리들의 반응이 어우러져 형성되는 것'으로 정의했습니다. 이는 기술이 아닌 존재의 변화입니다."
                },
                {
                    question: "강의에서 제시한 '리더'의 정의에 핵심적으로 포함된 요소가 아닌 것은?",
                    options: [
                        "하나님께서 주신 책임",
                        "하나님께서 주신 영향력",
                        "뛰어난 개인 역량",
                        "하나님의 목적으로 이끎"
                    ],
                    correct: 2,
                    explanation: "리더는 '하나님께서 주신 책임과 영향력을 가지고 맡겨주신 사람들을 하나님의 목적 가까이로 이끄는 사람'입니다. 개인 역량보다 하나님의 부르심과 목적이 핵심입니다."
                },
                {
                    question: "'리더십은 궁극적으로 존재(being)로부터 흐른다'는 관점이 강조하는 것은?",
                    options: [
                        "행함(doing)은 중요하지 않다",
                        "리더십의 기술보다 리더의 됨됨이가 근본이다",
                        "성과보다 의도가 중요하다",
                        "준비보다 타고난 자질이 중요하다"
                    ],
                    correct: 1,
                    explanation: "강의는 '행함이 중요하지 않은 것은 아니지만 궁극적으로 우리의 됨(being)이 흘러나오는 것이 지도력'이라고 했습니다. 리더십의 뿌리는 존재에 있습니다."
                },
                {
                    question: "'끝까지 잘 마치기' 위한 핵심 관점으로 반복 강조된 것은?",
                    options: [
                        "완벽한 계획 수립",
                        "끝을 마음에 두고 시작하기",
                        "실패 경험 회피하기",
                        "경쟁자보다 앞서가기"
                    ],
                    correct: 1,
                    explanation: "강의는 '끝까지 잘 마치려면 끝을 마음에 두고 시작해야 한다'를 반복 강조하며, 오늘의 삶을 평생의 관점에서 바라보는 것의 중요성을 역설했습니다."
                },
                {
                    question: "초점 있는 삶을 형성하는 네 가지 요소 간의 관계에 대한 설명으로 옳은 것은?",
                    options: [
                        "네 가지 요소는 각각 독립적으로 작용한다",
                        "삶의 목적 없이는 다른 세 요소가 제대로 기능할 수 없다",
                        "효과적 방법이 가장 우선순위이다",
                        "궁극적 공헌만 있으면 충분하다"
                    ],
                    correct: 1,
                    explanation: "강의는 '삶의 목적이 없는 효과적 방법은 일시적 유행', '삶의 목적이 없는 주요 역할은 자신을 섬기는 결과', '삶의 목적이 없는 궁극적 공헌은 자신의 영광 추구'라며 삶의 목적의 중심성을 강조했습니다."
                },
                {
                    question: "멘토링에 대한 '가장 간단한 정의'로 제시된 것과 그 의미는?",
                    options: [
                        "가르치는 것 - 지식 전수가 핵심",
                        "돕는 것 - 누구나 의미있는 도움으로 멘토가 될 수 있음",
                        "지도하는 것 - 방향 제시가 중요",
                        "평가하는 것 - 피드백이 필수"
                    ],
                    correct: 1,
                    explanation: "강의는 멘토링을 '돕는 것'으로 간단히 정의하며, '누군가에게 의미있는 시기적절한 도움을 줄 수 있을 때 그들을 위한 멘토로 설 수 있다'고 했습니다. 이는 멘토링의 문턱을 낮춥니다."
                },
                {
                    question: "'이상적인 슈퍼 멘토'에 대한 강의의 관점은?",
                    options: [
                        "모든 지도자는 완벽한 멘토가 되어야 한다",
                        "한 사람이 모든 필요를 충족시킬 수는 없으며, 자신의 자원을 아는 것이 중요하다",
                        "경험이 많으면 모든 영역의 멘토가 될 수 있다",
                        "멘토는 반드시 전문가여야 한다"
                    ],
                    correct: 1,
                    explanation: "강의는 '한 사람이 모든 사람의 모든 필요를 충족시킬 수 있는 이상적인 멘토가 될 수는 없다'며, '하나님이 주신 자원을 파악하고 필요로 하는 사람들에게 나누는 것'을 강조했습니다."
                },
                {
                    question: "'끝까지 잘 마치는 지도자는 드물다'는 현실에서 발견된 공통점은?",
                    options: [
                        "모두 높은 IQ를 가졌다",
                        "생애에 시기적절한 도움과 약 10명의 멘토가 있었다",
                        "완벽한 환경에서 성장했다",
                        "실패 경험이 없었다"
                    ],
                    correct: 1,
                    explanation: "강의는 '끝까지 잘 마치는 사람들의 삶에는 시기적절한 도움이 있었고 생애에서 10명의 멘토들이 있었다'는 연구 결과를 제시하며 멘토링의 중요성을 강조했습니다."
                },
                {
                    question: "강의 초기의 '혼자 피니시 라인 통과'에서 후기의 '무리와 함께 통과'로 관점이 변화한 것이 의미하는 바는?",
                    options: [
                        "개인 성취에서 공동체 성숙으로의 전환",
                        "경쟁에서 협력으로의 전환",
                        "개인주의에서 팀워크로의 전환",
                        "독립에서 의존으로의 전환"
                    ],
                    correct: 0,
                    explanation: "강사는 '수많은 무리와 함께 피니시 라인을 통과하는 것'으로 관점이 바뀌었다며, '그리스도의 몸을 이루는 많은 지체들과 함께 하나님의 영광을 위해 함께 잘 마치는 것'을 강조했습니다."
                },
                {
                    question: "강의 전체를 마무리하며 가장 강조한 것은?",
                    options: [
                        "체계적인 리더십 훈련의 필요성",
                        "하나님의 은혜 없이는 끝까지 잘 마칠 수 없음",
                        "개인의 노력과 헌신",
                        "조직의 지원과 환경"
                    ],
                    correct: 1,
                    explanation: "강의는 '하나님의 은혜' 찬양으로 마무리하며 '나의 나 된 것은 다 하나님 은혜'라는 고백과 함께, '끝까지 잘 마치는 것이 오직 하나님의 은혜로만 가능하다'는 핵심 메시지를 전했습니다."
                }
            ]
        };

        let currentQuiz = 'lecture7';
        let currentQuestion = 0;
        let answers = {};

        // 탭 전환
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', function() {
                const targetQuiz = this.dataset.tab;
                
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                this.classList.add('active');
                
                document.querySelectorAll('.quiz-screen').forEach(s => s.classList.remove('active'));
                
                currentQuiz = targetQuiz;
                
                if (answers[targetQuiz] && answers[targetQuiz].completed) {
                    document.getElementById(`results${targetQuiz === 'lecture7' ? '7' : '8'}`).classList.add('active');
                } else {
                    currentQuestion = 0; // 탭 전환 시 첫 문제로 리셋
                    if (!answers[targetQuiz]) {
                        initQuiz(targetQuiz);
                    } else {
                        renderQuestion(targetQuiz);
                    }
                    document.getElementById(`${targetQuiz}-quiz`).classList.add('active');
                }
            });
        });

        // 퀴즈 초기화
        function initQuiz(quiz) {
            currentQuestion = 0;
            answers[quiz] = { selected: {}, completed: false };
            renderQuestion(quiz);
        }

        // 질문 렌더링
        function renderQuestion(quiz) {
            const data = quizData[quiz];
            const container = document.getElementById(`question-container-${quiz === 'lecture7' ? '7' : '8'}`);
            const question = data[currentQuestion];
            
            let html = `
                <div class="question-card">
                    <div class="question-number">질문 ${currentQuestion + 1} / ${data.length}</div>
                    <div class="question-text">${question.question}</div>
                    <div class="options">
            `;
            
            question.options.forEach((option, index) => {
                const selected = answers[quiz].selected[currentQuestion] === index ? 'selected' : '';
                const label = String.fromCharCode(65 + index);
                html += `
                    <div class="option ${selected}" data-index="${index}">
                        <span class="option-label">${label}</span>
                        <span>${option}</span>
                    </div>
                `;
            });
            
            html += `
                    </div>
                </div>
            `;
            
            container.innerHTML = html;
            
            // 옵션 클릭 이벤트
            container.querySelectorAll('.option').forEach(opt => {
                opt.addEventListener('click', function() {
                    container.querySelectorAll('.option').forEach(o => o.classList.remove('selected'));
                    this.classList.add('selected');
                    answers[quiz].selected[currentQuestion] = parseInt(this.dataset.index);
                    updateNavigation(quiz);
                });
            });
            
            updateProgress(quiz);
            updateNavigation(quiz);
        }

        // 진행률 업데이트
        function updateProgress(quiz) {
            const suffix = quiz === 'lecture7' ? '7' : '8';
            const progress = ((currentQuestion + 1) / quizData[quiz].length) * 100;
            document.getElementById(`progress${suffix}`).style.width = progress + '%';
        }

        // 네비게이션 버튼 업데이트
        function updateNavigation(quiz) {
            const suffix = quiz === 'lecture7' ? '7' : '8';
            const prevBtn = document.getElementById(`prev${suffix}`);
            const nextBtn = document.getElementById(`next${suffix}`);
            
            prevBtn.style.visibility = currentQuestion > 0 ? 'visible' : 'hidden';
            
            const hasAnswer = answers[quiz].selected[currentQuestion] !== undefined;
            nextBtn.disabled = !hasAnswer;
            
            if (currentQuestion === quizData[quiz].length - 1) {
                nextBtn.textContent = '결과 보기';
            } else {
                nextBtn.textContent = '다음';
            }
        }

        // 이전 버튼
        ['7', '8'].forEach(suffix => {
            document.getElementById(`prev${suffix}`).addEventListener('click', () => {
                const quiz = suffix === '7' ? 'lecture7' : 'lecture8';
                if (currentQuestion > 0) {
                    currentQuestion--;
                    renderQuestion(quiz);
                }
            });
        });

        // 다음 버튼
        ['7', '8'].forEach(suffix => {
            document.getElementById(`next${suffix}`).addEventListener('click', () => {
                const quiz = suffix === '7' ? 'lecture7' : 'lecture8';
                if (currentQuestion < quizData[quiz].length - 1) {
                    currentQuestion++;
                    renderQuestion(quiz);
                } else {
                    showResults(quiz);
                }
            });
        });

        // 결과 표시
        function showResults(quiz) {
            answers[quiz].completed = true;
            const data = quizData[quiz];
            let correct = 0;
            
            data.forEach((q, i) => {
                if (answers[quiz].selected[i] === q.correct) {
                    correct++;
                }
            });
            
            const percentage = Math.round((correct / data.length) * 100);
            const suffix = quiz === 'lecture7' ? '7' : '8';
            const resultsContainer = document.getElementById(`results${suffix}`);
            
            let message = '';
            if (percentage >= 90) message = '훌륭합니다! 강의의 핵심을 완벽히 이해하셨네요! 🎉';
            else if (percentage >= 70) message = '잘 하셨습니다! 중요한 개념들을 잘 파악하셨어요! 👏';
            else if (percentage >= 50) message = '좋습니다! 강의를 다시 들으면 더 깊이 이해할 수 있을 거예요! 📚';
            else message = '강의를 다시 들으며 핵심 내용을 정리해보시길 권합니다. 💪';
            
            let html = `
                <div class="results">
                    <h2>퀴즈 완료!</h2>
                    <div class="score-display">${correct}/${data.length}</div>
                    <div class="score-message">${message}</div>
                    <div style="font-size: 18px; color: #666; margin-bottom: 20px;">정답률: ${percentage}%</div>
            `;
            
            // 오답 리뷰
            const wrongAnswers = [];
            data.forEach((q, i) => {
                if (answers[quiz].selected[i] !== q.correct) {
                    wrongAnswers.push({ question: q, index: i, userAnswer: answers[quiz].selected[i] });
                }
            });
            
            if (wrongAnswers.length > 0) {
                html += `
                    <div class="review-section">
                        <div class="review-title">📝 오답 노트 (${wrongAnswers.length}문제)</div>
                `;
                
                wrongAnswers.forEach(item => {
                    const q = item.question;
                    html += `
                        <div class="review-item">
                            <div class="review-question">Q${item.index + 1}. ${q.question}</div>
                            <div class="review-answer wrong">❌ 선택한 답: ${q.options[item.userAnswer]}</div>
                            <div class="review-answer correct">✅ 정답: ${q.options[q.correct]}</div>
                            <div class="review-explanation">${q.explanation}</div>
                        </div>
                    `;
                });
                
                html += `</div>`;
            } else {
                html += `<div style="color: #27ae60; font-size: 18px; margin-top: 20px;">🎯 완벽합니다! 모든 문제를 맞히셨습니다!</div>`;
            }
            
            html += `
                    <button class="btn btn-primary" onclick="retakeQuiz('${quiz}')" style="margin-top: 30px;">다시 풀기</button>
                </div>
            `;
            
            resultsContainer.innerHTML = html;
            
            document.querySelectorAll('.quiz-screen').forEach(s => s.classList.remove('active'));
            resultsContainer.classList.add('active');
        }

        // 퀴즈 재시작
        function retakeQuiz(quiz) {
            initQuiz(quiz);
            document.querySelectorAll('.quiz-screen').forEach(s => s.classList.remove('active'));
            document.getElementById(`${quiz}-quiz`).classList.add('active');
        }

        // 초기화
        initQuiz('lecture7');
        initQuiz('lecture8');
        renderQuestion('lecture7');
    </script>
</body>
</html>